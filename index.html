<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Apostilla / Legalizaci√≥n - Verificaci√≥n</title>

  <style>
    :root{
      --container: 1180px;
      --primary: #2f69c9;
      --text: #0b255a;
      --line: #d1d5db;
    }

    *{ box-sizing: border-box; }

    body{
      margin: 0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      background: #ffffff;
      color: #0f172a;
    }

    a{ color:#0b5bd3; text-decoration:none; }
    a:hover{ text-decoration:underline; }

    /* ===== HEADER ===== */
    .top-header{
      background: #fff;
      border-bottom: 1px solid #e5e7eb;
      box-shadow: 0 4px 14px rgba(15,23,42,.06);
    }

    .top-header .inner{
      max-width: var(--container);
      margin: 0 auto;
      padding: 10px 18px;
      display: grid;
      grid-template-columns: auto 1fr;
      align-items: center;
      gap: 20px;
    }

    .brand img{
      width: 95px; /* üîí tama√±o final */
      height: auto;
      display: block;
    }

    .page-title{
      text-align: center;
      font-size: 26px;
      font-weight: 600;
      color: var(--text);
    }

    /* ===== MAIN ===== */
    .main{
      max-width: var(--container);
      margin: 0 auto;
      padding: 14px 18px 0;
    }

    .lang-bar{
      background: var(--primary);
      color: #fff;
      border-radius: 4px;
      padding: 12px 16px;
      display: flex;
      align-items: center;
      gap: 16px;
    }

    .lang-left{
      display: flex;
      align-items: center;
      gap: 10px;
      font-weight: 800;
      font-size: 18px;
    }

    .lang-left .icon{
      width: 18px;
      height: 18px;
      border: 2px solid rgba(255,255,255,.85);
      border-radius: 999px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 12px;
    }

    .lang-left .sep{
      padding: 0 10px;
      opacity: .85;
    }

    .lang-switch{
      margin-left: auto;
      display: flex;
      gap: 10px;
      align-items: center;
    }

    .lang-switch button{
      background: transparent;
      border: 0;
      color: #fff;
      font-size: 18px;
      font-weight: 800;
      padding: 6px 10px;
      border-radius: 6px;
      cursor: pointer;
      opacity: .9;
    }

    .lang-switch button[aria-pressed="true"]{
      background: rgba(255,255,255,.18);
      opacity: 1;
    }

    .h1-row{
      margin-top: 18px;
      display: flex;
      justify-content: space-between;
      align-items: flex-end;
      gap: 12px;
    }

    h1{
      margin: 0;
      font-size: 30px;
      font-weight: 400;
      color: var(--text);
    }

    .required-note{
      font-size: 14px;
      color: #b91c1c;
      white-space: nowrap;
    }

    .divider{
      height: 1px;
      background: #cbd5e1;
      margin: 10px 0 18px;
    }

    .info-card{
      border: 1px solid var(--line);
      border-radius: 10px;
      padding: 18px;
      display: flex;
      gap: 14px;
    }

    .info-icon{
      width: 44px;
      height: 44px;
      border-radius: 999px;
      border: 4px solid #0b5bd3;
      color: #0b5bd3;
      font-weight: 900;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 20px;
      margin-top: 4px;
      flex-shrink: 0;
    }

    .info-text{
      font-size: 16px;
      line-height: 1.45;
      color: #0b3a8a;
    }

    .form-wrap{ margin-top: 22px; }

    .form-grid{
      display: grid;
      grid-template-columns: 1.3fr .8fr .6fr;
      gap: 18px;
      align-items: end;
    }

    label{
      display: block;
      margin-bottom: 8px;
      font-size: 16px;
      color: var(--text);
    }

    .req{ color: #b91c1c; font-weight: 800; }

    input{
      width: 100%;
      padding: 12px;
      border: 1px solid #cbd5e1;
      border-radius: 6px;
      font-size: 16px;
      background: #eaf3ff;
    }

    .date-hint{
      font-size: 16px;
      padding-bottom: 10px;
    }

    .line-hr{
      height: 1px;
      background: var(--line);
      margin: 20px 0;
    }

    .btn{
      background: #0b5bd3;
      color: #fff;
      border: 0;
      border-radius: 12px;
      padding: 12px 22px;
      font-size: 18px;
      font-weight: 800;
      cursor: pointer;
      box-shadow: 0 10px 18px rgba(11,91,211,.22);
    }

    #msg{
      margin-top: 12px;
      font-weight: 700;
      color: #b91c1c;
    }

    .footer-image{
      margin-top: 30px;
      background: #ffffff;
    }
    .footer-image img{
      width: 100%;
      max-width: 550px;
      margin: 0 auto;
      display: block;
    }

    @media (max-width: 900px){
      .top-header .inner{
        grid-template-columns: 1fr;
        justify-items: center;
      }
      .page-title{ font-size: 24px; }
      h1{ font-size: 24px; }
      .form-grid{ grid-template-columns: 1fr; }
      .lang-bar{ flex-direction: column; }
      .lang-switch{ margin-left: 0; }
    }
  </style>
</head>

<body>

<header class="top-header">
  <div class="inner">
    <div class="brand">
      <img src="logo-cancilleria.png" alt="Canciller√≠a">
    </div>
    <div class="page-title">Apostilla / Legalizaci√≥n</div>
  </div>
</header>

<main class="main">

  <section class="lang-bar">
    <div class="lang-left">
      <span class="icon">‚úì</span>
      <span>Espa√±ol</span>
      <span class="sep">/</span>
      <span>English</span>
    </div>

    <div class="lang-switch">
      <button aria-pressed="true" type="button">Espa√±ol</button>
      <span>/</span>
      <button aria-pressed="false" type="button">English</button>
    </div>
  </section>

  <div class="h1-row">
    <h1>Verificaci√≥n de Apostilla o Legalizaci√≥n</h1>
    <div class="required-note"><span class="req">*</span> Campos obligatorios</div>
  </div>

  <div class="divider"></div>

  <section class="info-card">
    <div class="info-icon">i</div>
    <div class="info-text">
      <p style="margin:0 0 8px 0;">
        Si tiene alguna duda o inconveniente para consultar su documento comun√≠quese al Centro de atenci√≥n al ciudadano - CIAC a trav√©s del siguiente enlace:
        <a href="https://tramites.cancilleria.gov.co/ciudadano/pqr/BuzonVirtual.aspx" target="_blank" rel="noopener noreferrer">
          https://tramites.cancilleria.gov.co/ciudadano/pqr/BuzonVirtual.aspx
        </a>
      </p>
      <p style="margin:0;">
        Si la Apostilla fue expedida a partir de 08 de septiembre de 2007 o la Legalizaci√≥n fue expedida a partir de 29 de diciembre de 2011 ingrese la fecha de expedici√≥n de la apostilla o legalizaci√≥n.
      </p>
    </div>
  </section>

  <section class="form-wrap">
    <form id="formConsulta">
      <div class="form-grid">
        <div>
          <label>N√∫mero de Apostilla-Legalizaci√≥n-Constancia <span class="req">*</span></label>
          <input type="text" id="numero" autocomplete="off">
        </div>

        <div>
          <label>Fecha de expedici√≥n</label>
          <!-- ‚úÖ AHORA SE ESCRIBE EN MES/D√çA/A√ëO -->
          <input
            type="text"
            id="fecha"
            inputmode="numeric"
            placeholder="mes/d√≠a/a√±o"
            autocomplete="off"
          >
        </div>

        <div class="date-hint">mes/d√≠a/a√±o</div>
      </div>

      <div class="line-hr"></div>

      <button class="btn" type="submit">Buscar</button>
      <div id="msg"></div>
    </form>
  </section>

</main>

<footer class="footer-image">
  <img src="footer-cancilleria.png" alt="Pie de p√°gina Ministerio de Relaciones Exteriores">
</footer>

<script>
  // ‚úÖ FECHA EN FORMATO MES/D√çA/A√ëO
  const CASOS = {
    "L2OIV133145887": { fecha: "1/7/2026" },
    "L2OIV133145895": { fecha: "1/7/2026" },
    "A2ZCM1420287305": { fecha: "1/19/2026" },
    "A2ZCM1420287418": { fecha: "1/19/2026" }
  };

  const form = document.getElementById("formConsulta");
  const msg  = document.getElementById("msg");

  function norm(v){
    return (v || "").trim().toUpperCase();
  }

  // Normaliza fecha escrita por el usuario (quita espacios, permite 01/07/2026 -> 1/7/2026)
  function normalizarMDY(s){
    s = (s || "").trim().replace(/\s+/g, "");
    const m = s.match(/^(\d{1,2})\/(\d{1,2})\/(\d{4})$/);
    if(!m) return null;

    const mes = Number(m[1]);
    const dia = Number(m[2]);
    const anio = Number(m[3]);

    if(anio < 1900 || anio > 2100) return null;
    if(mes < 1 || mes > 12) return null;

    const maxDia = new Date(anio, mes, 0).getDate(); // d√≠a 0 del mes siguiente
    if(dia < 1 || dia > maxDia) return null;

    return `${mes}/${dia}/${anio}`; // sin ceros a la izquierda
  }

  // (Opcional) ayuda al usuario: auto agrega "/" mientras escribe
  const fechaInput = document.getElementById("fecha");
  fechaInput.addEventListener("input", () => {
    let v = fechaInput.value.replace(/[^\d]/g, ""); // solo n√∫meros
    if(v.length > 8) v = v.slice(0,8); // MMDDYYYY sin separadores
    // armamos M/D/YYYY sin forzar ceros
    // ejemplo: 1192026 -> 1/19/2026
    // como es variable, solo ayudamos con barras en posiciones t√≠picas:
    // si el usuario va poniendo: M M D D Y Y Y Y
    // se muestra: MM/DD/YYYY
    let out = v;
    if(v.length >= 3) out = v.slice(0,2) + "/" + v.slice(2);
    if(v.length >= 5) out = v.slice(0,2) + "/" + v.slice(2,4) + "/" + v.slice(4);
    fechaInput.value = out;
  });

  form.addEventListener("submit", function(e){
    e.preventDefault();
    msg.textContent = "";

    const codigo = norm(document.getElementById("numero").value);
    const fechaRaw = document.getElementById("fecha").value;

    if(!codigo){
      msg.textContent = "Por favor ingrese el n√∫mero.";
      return;
    }

    const caso = CASOS[codigo];
    if(!caso){
      msg.textContent = "No se encontr√≥ informaci√≥n asociada al n√∫mero ingresado.";
      return;
    }

    if(!fechaRaw.trim()){
      msg.textContent = "Para este n√∫mero es obligatorio ingresar la fecha de expedici√≥n.";
      return;
    }

    const fechaMDY = normalizarMDY(fechaRaw);
    if(!fechaMDY){
      msg.textContent = "Formato de fecha inv√°lido. Use mes/d√≠a/a√±o (ej: 1/19/2026).";
      return;
    }

    if(fechaMDY !== caso.fecha){
      msg.textContent = "La fecha no coincide con el registro.";
      return;
    }

    window.location.href = "resultados.html?codigo=" + encodeURIComponent(codigo);
  });
</script>

</body>
</html>
